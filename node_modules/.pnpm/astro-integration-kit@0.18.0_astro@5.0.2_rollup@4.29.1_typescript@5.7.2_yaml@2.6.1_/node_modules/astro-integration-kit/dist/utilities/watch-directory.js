import{readdirSync as p,statSync as f}from"node:fs";import{join as l,relative as y,resolve as k}from"pathe";var n=e=>r=>r;var c=(e,r=e)=>{let i=p(e),o=[];for(let s of i){let t=l(e,s);if(f(t).isDirectory()){let a=c(t,r);o=o.concat(a)}else{let a=y(r,t);o.push(a)}}return o},u=n("astro:config:setup")(({addWatchFile:e,command:r,updateConfig:i},o)=>{if(r!=="dev")return;let s=c(o).map(t=>k(o,t));for(let t of s)e(t);i({vite:{plugins:[{name:`rollup-aik-watch-directory-${o}`,buildStart(){for(let t of s)this.addWatchFile(t)}}]}})});export{u as watchDirectory};
//# sourceMappingURL=watch-directory.js.map