import"astro";var i=e=>t=>t;import{AstroError as g}from"astro/errors";var f=i("astro:config:setup")(({config:e},{name:t,position:n,relativeTo:r})=>{let o=e.integrations.findIndex(s=>s.name===t);if(o===-1)return!1;if(n===void 0)return!0;if(r===void 0)throw new g("Cannot perform a relative integration check without a relative reference.","Pass `relativeTo` on your call to `hasIntegration` or remove the `position` option.");let a=e.integrations.findIndex(s=>s.name===r);if(a===-1)throw new g("Cannot check relative position against an absent integration.");return n==="before"?o<a:o>a});var T=i("astro:config:setup")((e,{integration:t,ensureUnique:n})=>{let{logger:r,updateConfig:o}=e;if(n&&f(e,{name:t.name})){r.warn(`Integration "${t.name}" has already been added by the user or another integration. Skipping.`);return}o({integrations:[t]})});export{T as addIntegration};
//# sourceMappingURL=add-integration.js.map