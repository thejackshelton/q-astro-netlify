var f=t=>t;var u=t=>o=>o;function r(t){let o=[];if(t){for(let n of t)if(n){if(Array.isArray(n)){o.push(...r(n));continue}n instanceof Promise||o.push(n.name)}}return o}var g=u("astro:config:setup")(({config:t},{plugin:o})=>{if(!o||o instanceof Promise)return!1;let n=new Set(r(t?.vite?.plugins)),e=new Set;if(typeof o=="string"&&e.add(o),typeof o=="object")if(Array.isArray(o)){let i=new Set(r(o));for(let a of i)e.add(a)}else e.add(o.name);return[...e].some(i=>n.has(i))});function s(t,o){if(o){for(let n of o)if(n){if(Array.isArray(n)){s(t,n);continue}n instanceof Promise||t.add(n)}}return t}var p=f({name:"hasVitePlugin",setup(){return{"astro:config:setup":t=>{let o=s(new Set,t.config.vite?.plugins),{updateConfig:n,config:e}=t;return t.updateConfig=i=>(e.vite.plugins=Array.from(s(o,i.vite?.plugins)),n(i)),{hasVitePlugin:i=>g(t,{plugin:i})}}}}});export{p as hasVitePluginPlugin};
//# sourceMappingURL=index.js.map